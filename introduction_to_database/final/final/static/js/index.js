// Generated by CoffeeScript 1.6.3
var load_did_success, pageClick, pageid;

pageid = 1;

pageClick = function(e, oldPage, newPage) {
  pageid = newPage;
  return $.post(json_url, {
    "pageid": newPage
  }, load_did_success, "json");
};

load_did_success = function(json, textStatus, jqXHR) {
  var pagecount;
  pagecount = json.pagecount;
  if (json.pagecount) {
    $("div#heading").html("最近热门餐厅 <strong>" + pageid.toString() + "/" + pagecount + "</strong>");
    $("div#content").html(json.content);
    return $("#pager").bootstrapPaginator({
      currentPage: pageid,
      totalPages: pagecount,
      onPageChanged: pageClick,
      bootstrapMajorVersion: 3
    });
  } else {
    return $("div#content").html("暂无推荐");
  }
};

$(document).ready(function() {
  return pageClick(null, null, 1);
});
